{"ast":null,"code":"var _jsxFileName = \"/workspaces/codespaces-blank/geospatial-pipeline/frontend/src/components/MapView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polygon, Polyline, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Custom icons for different asset types\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst icons = {\n  VESSEL: new L.Icon({\n    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  }),\n  AIRCRAFT: new L.Icon({\n    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  }),\n  VEHICLE: new L.Icon({\n    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  })\n};\n\n// Component to center map on selected position\nfunction MapController({\n  selectedPosition\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (selectedPosition) {\n      map.setView([selectedPosition.latitude, selectedPosition.longitude], 10);\n    }\n  }, [selectedPosition, map]);\n  return null;\n}\n_s(MapController, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MapController;\nfunction MapView({\n  positions,\n  regions,\n  selectedAssetTrack,\n  selectedPosition,\n  onAssetClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-view\",\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [39.8283, -98.5795],\n      zoom: 4,\n      style: {\n        height: '400px',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapController, {\n        selectedPosition: selectedPosition\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), regions.map(region => /*#__PURE__*/_jsxDEV(Polygon, {\n        positions: region.boundary.coordinates[0].map(coord => [coord[1], coord[0]]),\n        color: \"blue\",\n        fillOpacity: 0.1\n      }, region.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)), positions.map(pos => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [pos.latitude, pos.longitude],\n        icon: icons[pos.asset_type] || L.Icon.Default,\n        eventHandlers: {\n          click: () => onAssetClick(pos.asset_id)\n        },\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [pos.asset_id, \" - \", pos.asset_type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, pos.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)), selectedAssetTrack && /*#__PURE__*/_jsxDEV(Polyline, {\n        positions: selectedAssetTrack.track.coordinates.map(coord => [coord[1], coord[0]]),\n        color: \"red\",\n        weight: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_c2 = MapView;\nexport default MapView;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapController\");\n$RefreshReg$(_c2, \"MapView\");","map":{"version":3,"names":["React","useEffect","MapContainer","TileLayer","Marker","Popup","Polygon","Polyline","useMap","L","jsxDEV","_jsxDEV","icons","VESSEL","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","AIRCRAFT","VEHICLE","MapController","selectedPosition","_s","map","setView","latitude","longitude","_c","MapView","positions","regions","selectedAssetTrack","onAssetClick","className","children","center","zoom","style","height","width","attribution","url","fileName","_jsxFileName","lineNumber","columnNumber","region","boundary","coordinates","coord","color","fillOpacity","id","pos","position","icon","asset_type","Default","eventHandlers","click","asset_id","track","weight","_c2","$RefreshReg$"],"sources":["/workspaces/codespaces-blank/geospatial-pipeline/frontend/src/components/MapView.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polygon, Polyline, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Custom icons for different asset types\nconst icons = {\n  VESSEL: new L.Icon({\n    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  }),\n  AIRCRAFT: new L.Icon({\n    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  }),\n  VEHICLE: new L.Icon({\n    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  })\n};\n\n// Component to center map on selected position\nfunction MapController({ selectedPosition }) {\n  const map = useMap();\n  useEffect(() => {\n    if (selectedPosition) {\n      map.setView([selectedPosition.latitude, selectedPosition.longitude], 10);\n    }\n  }, [selectedPosition, map]);\n  return null;\n}\n\nfunction MapView({ positions, regions, selectedAssetTrack, selectedPosition, onAssetClick }) {\n  return (\n    <div className=\"map-view\">\n      <MapContainer center={[39.8283, -98.5795]} zoom={4} style={{ height: '400px', width: '100%' }}>\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <MapController selectedPosition={selectedPosition} />\n        {regions.map(region => (\n          <Polygon \n            key={region.id} \n            positions={region.boundary.coordinates[0].map(coord => [coord[1], coord[0]])} \n            color=\"blue\" \n            fillOpacity={0.1}\n          />\n        ))}\n        {positions.map(pos => (\n          <Marker \n            key={pos.id} \n            position={[pos.latitude, pos.longitude]} \n            icon={icons[pos.asset_type] || L.Icon.Default}\n            eventHandlers={{\n              click: () => onAssetClick(pos.asset_id),\n            }}\n          >\n            <Popup>{pos.asset_id} - {pos.asset_type}</Popup>\n          </Marker>\n        ))}\n        {selectedAssetTrack && (\n          <Polyline \n            positions={selectedAssetTrack.track.coordinates.map(coord => [coord[1], coord[0]])} \n            color=\"red\" \n            weight={3}\n          />\n        )}\n      </MapContainer>\n    </div>\n  );\n}\n\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}