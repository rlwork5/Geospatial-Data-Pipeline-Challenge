{"ast":null,"code":"var _jsxFileName = \"/workspaces/codespaces-blank/geospatial-pipeline/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport MapView from './components/MapView';\nimport DataGrid from './components/DataGrid';\nimport FilterPanel from './components/FilterPanel';\nimport CrossingAlerts from './components/CrossingAlerts';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = '/api';\nfunction App() {\n  _s();\n  const [filters, setFilters] = useState({\n    assetTypes: [],\n    startTime: '',\n    endTime: '',\n    regionId: ''\n  });\n  const [positions, setPositions] = useState([]);\n  const [regions, setRegions] = useState([]);\n  const [crossings, setCrossings] = useState([]);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [selectedAssetTrack, setSelectedAssetTrack] = useState(null);\n  useEffect(() => {\n    fetchRegions();\n    fetchCrossings();\n  }, []);\n  useEffect(() => {\n    fetchPositions();\n  }, [filters]);\n  const fetchRegions = async () => {\n    const res = await fetch(`${API_BASE}/regions`);\n    const data = await res.json();\n    setRegions(data);\n  };\n  const fetchPositions = async () => {\n    let url = `${API_BASE}/positions?limit=100`;\n    if (filters.assetTypes.length > 0) {\n      // For simplicity, take first selected type\n      url += `&asset_type=${filters.assetTypes[0]}`;\n    }\n    if (filters.startTime) url += `&start_time=${filters.startTime}`;\n    if (filters.endTime) url += `&end_time=${filters.endTime}`;\n    if (filters.regionId) url += `&region_id=${filters.regionId}`;\n    const res = await fetch(url);\n    const data = await res.json();\n    const sortedPositions = data.positions.sort((a, b) => a.id - b.id);\n    setPositions(sortedPositions);\n  };\n  const fetchCrossings = async () => {\n    const res = await fetch(`${API_BASE}/crossings?limit=10`);\n    const data = await res.json();\n    setCrossings(data);\n  };\n  const handleAssetClick = async assetId => {\n    const res = await fetch(`${API_BASE}/positions/${assetId}/track`);\n    const data = await res.json();\n    setSelectedAssetTrack(data);\n  };\n  const handlePositionSelect = position => {\n    setSelectedPosition(position);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Geospatial Pipeline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(FilterPanel, {\n        filters: filters,\n        setFilters: setFilters,\n        regions: regions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapView, {\n        positions: positions,\n        regions: regions,\n        selectedAssetTrack: selectedAssetTrack,\n        selectedPosition: selectedPosition,\n        onAssetClick: handleAssetClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DataGrid, {\n        positions: positions,\n        onPositionSelect: handlePositionSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CrossingAlerts, {\n        crossings: crossings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"y3uG6DjTJ6L1tfGTT2QWkhZvcJk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","MapView","DataGrid","FilterPanel","CrossingAlerts","jsxDEV","_jsxDEV","API_BASE","App","_s","filters","setFilters","assetTypes","startTime","endTime","regionId","positions","setPositions","regions","setRegions","crossings","setCrossings","selectedPosition","setSelectedPosition","selectedAssetTrack","setSelectedAssetTrack","fetchRegions","fetchCrossings","fetchPositions","res","fetch","data","json","url","length","sortedPositions","sort","a","b","id","handleAssetClick","assetId","handlePositionSelect","position","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onAssetClick","onPositionSelect","_c","$RefreshReg$"],"sources":["/workspaces/codespaces-blank/geospatial-pipeline/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MapView from './components/MapView';\nimport DataGrid from './components/DataGrid';\nimport FilterPanel from './components/FilterPanel';\nimport CrossingAlerts from './components/CrossingAlerts';\nimport './App.css';\n\nconst API_BASE = '/api';\n\nfunction App() {\n  const [filters, setFilters] = useState({\n    assetTypes: [],\n    startTime: '',\n    endTime: '',\n    regionId: ''\n  });\n  const [positions, setPositions] = useState([]);\n  const [regions, setRegions] = useState([]);\n  const [crossings, setCrossings] = useState([]);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [selectedAssetTrack, setSelectedAssetTrack] = useState(null);\n\n  useEffect(() => {\n    fetchRegions();\n    fetchCrossings();\n  }, []);\n\n  useEffect(() => {\n    fetchPositions();\n  }, [filters]);\n\n  const fetchRegions = async () => {\n    const res = await fetch(`${API_BASE}/regions`);\n    const data = await res.json();\n    setRegions(data);\n  };\n\n  const fetchPositions = async () => {\n    let url = `${API_BASE}/positions?limit=100`;\n    if (filters.assetTypes.length > 0) {\n      // For simplicity, take first selected type\n      url += `&asset_type=${filters.assetTypes[0]}`;\n    }\n    if (filters.startTime) url += `&start_time=${filters.startTime}`;\n    if (filters.endTime) url += `&end_time=${filters.endTime}`;\n    if (filters.regionId) url += `&region_id=${filters.regionId}`;\n\n    const res = await fetch(url);\n    const data = await res.json();\n    const sortedPositions = data.positions.sort((a, b) => a.id - b.id);\n    setPositions(sortedPositions);\n  };\n\n  const fetchCrossings = async () => {\n    const res = await fetch(`${API_BASE}/crossings?limit=10`);\n    const data = await res.json();\n    setCrossings(data);\n  };\n\n  const handleAssetClick = async (assetId) => {\n    const res = await fetch(`${API_BASE}/positions/${assetId}/track`);\n    const data = await res.json();\n    setSelectedAssetTrack(data);\n  };\n\n  const handlePositionSelect = (position) => {\n    setSelectedPosition(position);\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Geospatial Pipeline</h1>\n      </header>\n      <div className=\"main-content\">\n        <FilterPanel filters={filters} setFilters={setFilters} regions={regions} />\n        <MapView \n          positions={positions} \n          regions={regions} \n          selectedAssetTrack={selectedAssetTrack}\n          selectedPosition={selectedPosition}\n          onAssetClick={handleAssetClick}\n        />\n        <DataGrid positions={positions} onPositionSelect={handlePositionSelect} />\n        <CrossingAlerts crossings={crossings} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}